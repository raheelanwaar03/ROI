(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{34484:function(e,r,s){"use strict";s(67294);var t=s(82066),a=s(85893);r.Z=(0,t.Z)((0,a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},54722:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return s(78135)}])},78135:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return $}});var t=s(85893),a=s(26950),n=s(73965),i=s(91408),l=s(37719),o=s(47995),d=s(54184),c=s(60139),u=s(24201),m=s(49806),x=s(8164),h=s(9369),f=s(74205),g=s(60831),j=s(99014),p=s(56312),Z=s(50480),y=s(40476),b=s(86886),v=s(93946),I=s(87109),w=s(49033),N=s(72890),P=s(51233),k=s(50135),C=s(11163),R=s(67294),_=s(87536),E=s(1604);let S={referralId:{error:!1,message:""},userName:{error:!1,message:""}},z=f.F.extend({referralId:E.z.number().or(E.z.string().nonempty({message:"Referral Id is required"})).refine(()=>!S.referralId.error,()=>({message:S.referralId.message})),userName:E.z.string().refine(()=>!S.userName.error,()=>({message:S.userName.message})),step:E.z.literal(1).or(E.z.literal(2))}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords are not matching"});var A=()=>{var e;let r=(0,C.useRouter)(),s=(0,u.T)(),{registerPage:a}=(0,i.Ii)(),[n,f]=(0,R.useState)(!1),{configuration:{registration:E}}=(0,m.mX)(),A=r.query,[M,B]=(0,R.useState)(""),G=null!==(e=a.data)&&void 0!==e?e:{step:1,referralId:"",userName:"",firstName:"",lastName:"",mobileNumber:"",email:"",password:"",confirmPassword:""},L=(0,_.cI)({resolver:(0,p.F)(z),defaultValues:G}),{handleSubmit:D,setValue:F,setError:T,clearErrors:U,watch:W}=L,{mutate:X,isLoading:O}=g.BG.auth.register.useMutation();(0,R.useEffect)(()=>{let{referralId:e}=A;"string"==typeof e&&F("referralId",e)},[A,F]);let q=W("referralId"),J=W("userName"),{mutateAsync:V}=g.BG.auth.checkReferralId.useMutation(),{mutateAsync:Y}=g.BG.auth.checkUserName.useMutation();(0,R.useEffect)(()=>{let e=e=>{S.referralId.error=!0,S.referralId.message=e,B(""),T("referralId",{type:"referralIdManual",message:e})},r=e=>{S.referralId.error=!1,S.referralId.message="",B(e),U("referralId")};return q?(0,j.YC)(q)?void async function(){try{let{success:s,userName:t}=await V(q);s?r(t):e("Referral Id doesn't exist")}catch(r){e("Referral Id doesn't exist")}}():e("Referral Id is not valid"):r("")},[V,U,q,T,F]),(0,R.useEffect)(()=>{let e=null==J?void 0:J.toLowerCase();async function r(){let r=await Y(e);r?(S.userName.error=!1,S.userName.message="",U("userName")):(S.userName.error=!0,S.userName.message="Username is already registered",T("userName",{type:"userNameManual",message:"Username is already registered"}))}e&&r()},[Y,U,T,J]);let[H,K]=(0,R.useState)("yes");return(0,t.jsxs)(d.lv,{methods:L,onSubmit:D(e=>{X(e,{onSuccess(e,t){"email"in e&&s((0,i.zE)({step:2,email:e.email,data:t})),"userId"in e&&r.push(x.Zd.newRegistration(e.userId))}})},e=>{console.log(e)}),children:[!!A.referralId||(0,t.jsxs)(P.Z,{direction:{xs:"column",sm:"row"},alignItems:"center",spacing:2,sx:{mb:2},children:[(0,t.jsx)(y.Z,{children:"Do you have a sponsor?"}),(0,t.jsxs)(N.Z,{name:"sponsor",row:!0,value:H,onChange:e=>{let{value:r}=e.target;("yes"===r||"no"===r)&&K(r),"no"===r?F("referralId",h.dX):F("referralId","")},children:[(0,t.jsx)(Z.Z,{value:"yes",control:(0,t.jsx)(w.Z,{}),label:"Yes"}),(0,t.jsx)(Z.Z,{value:"no",control:(0,t.jsx)(w.Z,{}),label:"No"})]})]}),(0,t.jsxs)(b.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(b.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(d.au,{name:"referralId",label:"Referral Id",maskNumber:!0})}),(0,t.jsx)(b.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(k.Z,{fullWidth:!0,disabled:!0,label:"Referral Username",value:M})}),(0,t.jsx)(b.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(d.au,{name:"userName",label:"Username"})}),(0,t.jsx)(b.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(d.au,{name:"firstName",label:"First Name"})}),(0,t.jsx)(b.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(d.au,{name:"lastName",label:"Last Name"})}),(0,t.jsx)(b.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(c.Z,{name:"mobileNumber",label:"Mobile Number"})}),(0,t.jsx)(b.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(d.au,{name:"email",label:"Email"})}),(0,t.jsx)(b.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(d.au,{name:"password",label:"Password",type:n?"text":"password",InputProps:{endAdornment:(0,t.jsx)(I.Z,{position:"end",children:(0,t.jsx)(v.Z,{edge:"end",onClick:()=>f(!n),children:(0,t.jsx)(l.Z,{icon:n?"eva:eye-fill":"eva:eye-off-fill"})})})}})}),(0,t.jsx)(b.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(d.au,{name:"confirmPassword",label:"Confirm Password",type:n?"text":"password",InputProps:{endAdornment:(0,t.jsx)(I.Z,{position:"end",children:(0,t.jsx)(v.Z,{edge:"end",onClick:()=>f(!n),children:(0,t.jsx)(l.Z,{icon:n?"eva:eye-fill":"eva:eye-off-fill"})})})}})}),(0,t.jsx)(b.ZP,{item:!0,xs:12,children:(0,t.jsx)(o.ph,{disabled:!E,fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:O,children:"Register"})})]})]})},M=s(31812),B=s(87357),G=s(44267),L=s(23795),D=s(15861),F=s(25675),T=s.n(F),U=s(39332),W=()=>{let e=(0,U.useRouter)(),{registerPage:r}=(0,i.Ii)(),{email:s}=r,a=(0,u.T)(),n={...r.data,otp:"",step:2},o=(0,_.cI)({defaultValues:n,resolver:(0,p.F)(f.Z.register)}),{handleSubmit:c}=o,{mutate:m,isLoading:h}=g.BG.auth.register.useMutation(),{mutate:j,isLoading:Z}=g.BG.auth.register.useMutation();return(0,t.jsx)(B.Z,{sx:{maxWidth:600,marginInline:"auto",p:{xs:2,md:6}},children:(0,t.jsxs)(G.Z,{sx:{textAlign:"center",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",gap:2},children:[(0,t.jsx)(T(),{src:"/images/smartphone.svg",alt:"mobile",width:0,height:0,style:{width:"auto",height:"auto"}}),(0,t.jsx)(D.Z,{variant:"h4",children:"Otp Verification"}),(0,t.jsxs)(D.Z,{color:"text.secondary",children:["Enter the verification code sent to"," "]}),(0,t.jsx)(D.Z,{children:s}),(0,t.jsxs)(d.lv,{methods:o,onSubmit:c(r=>{m(r,{onSuccess(r){a((0,i.JS)()),"userId"in r?e.push(x.Zd.newRegistration(r.userId)):e.push(x.Zd.login)}})}),children:[(0,t.jsx)(d.J2,{name:"otp",label:"Otp"}),(0,t.jsx)(M.Z,{type:"submit",sx:{mt:2},loading:h,variant:"contained",size:"large",fullWidth:!0,children:"Verify"})]}),(0,t.jsxs)(D.Z,{sx:{color:"text.secondary"},variant:"body2",children:["Didn't get the code?"," ",Z?(0,t.jsx)(L.Z,{sx:{cursor:"pointer",opacity:.7},children:"Sending..."}):(0,t.jsx)(L.Z,{onClick:()=>!!r.data&&j(r.data),sx:{cursor:"pointer"},children:"Resend"})]}),(0,t.jsxs)(L.Z,{onClick:()=>{a((0,i.zE)({...r,step:1}))},sx:{cursor:"pointer",alignItems:"center",display:"inline-flex"},variant:"subtitle2",children:[(0,t.jsx)(l.Z,{sx:{width:16,height:16},icon:"eva:arrow-ios-back-fill"}),"Go Back"]})]})})},X=(s(46901),s(92401),s(41664)),O=s.n(X),q=()=>{let{appName:e}=(0,m.mX)();return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(G.Z,{sx:{p:{md:6}},children:[null,(0,t.jsxs)(B.Z,{sx:{mb:5,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",textAlign:"center"},children:[(0,t.jsx)(D.Z,{variant:"h4",gutterBottom:!0,children:"Get started absolutely free"}),(0,t.jsxs)(D.Z,{sx:{color:"text.secondary"},children:["Create an account to continue with ",e]})]}),(0,t.jsx)(A,{}),(0,t.jsxs)(D.Z,{variant:"body2",align:"center",sx:{color:"text.secondary",mt:3},children:["By registering, I agree to \xa0",(0,t.jsx)(L.Z,{href:x.ZP.termsAndConditions,underline:"always",color:"text.primary",target:"_blank",children:"Terms of Service"})," ","and"," ",(0,t.jsx)(L.Z,{href:x.ZP.privacyPolicy,underline:"always",color:"text.primary",target:"_blank",children:"Privacy Policy"}),"."]}),(0,t.jsxs)(D.Z,{variant:"body2",sx:{mt:3,textAlign:"center"},children:["Already have an account?"," ",(0,t.jsx)(L.Z,{variant:"subtitle2",href:x.Zd.login,component:O(),children:"Login"})]})]})})},J=s(66242),V=s(65582),Y=s(90948);let H=(0,Y.ZP)("div")(e=>{let{theme:r}=e;return{[r.breakpoints.up("md")]:{display:"flex"},margin:"auto"}}),K=(0,Y.ZP)(J.Z)(e=>{let{theme:r}=e;return{maxWidth:900,display:"flex",flexDirection:"column",justifyContent:"center",margin:r.spacing(0,0,2,0),[r.breakpoints.down("sm")]:{boxShadow:"0 0 0 100vmax ".concat(r.palette.background.paper),margin:0}}}),Q=()=>{let{registerPage:{step:e}}=(0,i.Ii)();return(0,t.jsx)(a.Z,{title:"Register",children:(0,t.jsx)(H,{children:(0,t.jsx)(V.Z,{sx:{p:0},children:(0,t.jsx)(K,{children:1===e?(0,t.jsx)(q,{}):(0,t.jsx)(W,{})})})})})};Q.getLayout=e=>(0,t.jsx)(n.Z,{variant:"logo",children:e});var $=Q}},function(e){e.O(0,[674,1664,9993,6385,7184,6498,1026,6767,6181,1941,4184,1097,3965,9774,2888,179],function(){return e(e.s=54722)}),_N_E=e.O()}]);